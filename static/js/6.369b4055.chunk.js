(this["webpackJsonpreact-dashboard"]=this["webpackJsonpreact-dashboard"]||[]).push([[6],{101:function(e,t,c){"use strict";t.a=c.p+"static/media/message.17f316c9.mp3"},115:function(e,t,c){},121:function(e,t,c){},128:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(4),a=c(9),r=c.n(a),i=c(1),l=c.n(i),d=c(6),o=c(5),j=c(93),b=c(10),u=c(7),m=c(17),h=(c(115),c.p+"static/media/trading.c31da198.jpg"),O=c(2);var x=function(e){return e.isOpen,e.onClose,Object(O.jsx)("div",{className:"trading container d-flex justify-content-center align-items-center vh-100",children:Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("img",{src:h,width:"50%",alt:"Image",className:"img-fluid"}),Object(O.jsx)("h2",{className:"mt-3",children:"Trading has not yet started!!"}),Object(O.jsx)("p",{className:"lead",children:"Please be advised that trading has not yet begun for the day. If you are attempting to place a trade, please wait until trading commences before doing so. Thank you for your patience and understanding."})]})})},f=c(101),p=c(25),v=c(102),g=c(127),N=(c(121),function(e){var t=function(t){27===(t.charCode||t.keyCode)&&e.onClose()};return Object(n.useEffect)((function(){return document.body.addEventListener("keydown",t),function(){document.body.removeEventListener("keydown",t)}}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(g.a,{in:e.show,unmountOnExit:!0,timeout:{enter:0,exit:300},children:Object(O.jsx)("div",{className:"modal",onClick:e.onClose,children:Object(O.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(O.jsx)("div",{className:"modal-header",children:Object(O.jsx)("h4",{className:"modal-title",children:e.title})}),Object(O.jsx)("div",{className:"modal-body",children:Object(O.jsxs)("table",{className:"modaltable table-bordered",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"#"}),Object(O.jsx)("th",{scope:"col",children:"Lot"}),Object(O.jsx)("th",{scope:"col",children:"Factory"}),Object(O.jsx)("th",{scope:"col",children:"Price"}),Object(O.jsx)("th",{scope:"col",children:"Bidder"}),Object(O.jsx)("th",{scope:"col",children:"Status"})]})}),Object(O.jsx)("tbody",{children:e.filteredData.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("h4",{children:t+1})}),Object(O.jsx)("td",{children:Object(O.jsx)("h4",{children:e.lot})}),Object(O.jsx)("td",{children:Object(O.jsx)("h4",{children:e.factory_name})}),Object(O.jsx)("td",{children:Object(O.jsx)("h4",{children:e.maximum_bid})}),Object(O.jsx)("td",{children:Object(O.jsx)("h4",{children:e.buyer_name})}),Object(O.jsx)("td",{children:Object(O.jsx)("span",{className:1===e.sold_status?"hname":(e.sold_status,"rname"),children:1===e.sold_status?"Sold":2===e.sold_status?"Unsold":"Pending"})})]},t)}))})]})}),Object(O.jsx)("div",{className:"modal-footer",children:Object(O.jsx)("button",{onClick:e.onClose,className:"btn btn-danger",children:"Close"})})]})})})})}),y=c(106),k=c.n(y),S=c(100),_=c(44),w=function(e){var t=e.sl,c=e.index,n=e.time,s=e.el,a=e.users,r=e.formatTime,i=e.manualmode,l=e.selectedIndex,d=e.handleInputChange,o=e.addBid,j=e.handleInc,b=e.disabledButtons,u=e.setSelectedIndex,m=e.setManualmode;return Object(O.jsx)("div",{className:"col-md-3 col-sm-12 col-xs-12 list",children:Object(O.jsxs)("div",{className:"card mb-4",children:[Object(O.jsxs)("div",{className:"badge",children:["Lot- ",s.lot]}),Object(O.jsxs)("div",{className:"red-digit",children:[" ",t]})," ",Object(O.jsxs)("div",{className:"card-body ",children:[Object(O.jsxs)("span",{className:"text-white bg-l px-2 py-1 rounded-pill animate__animated animate__flash animate__infinite",children:["Live ",r(n),Object(O.jsx)("span",{className:"dot"})]}),Object(O.jsxs)("div",{className:"mt-3 row",children:[Object(O.jsxs)("div",{className:"col-md-7 col-sm-7 col-xs-7 border-right",children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col custom-bg-1 custom-padding",children:[Object(O.jsx)("p",{className:"header-text text-center",children:"FACTORY"}),Object(O.jsx)("p",{className:"card-text text-center",children:s.factory_name})]}),Object(O.jsxs)("div",{className:"col custom-bg-2 custom-padding",children:[Object(O.jsx)("p",{className:"header-text text-center",children:"INVOICE"}),Object(O.jsx)("p",{className:"card-text text-center",children:s.invoice})]})]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col custom-bg-3 custom-padding",children:[Object(O.jsx)("p",{className:"header-text text-center",children:"LOT"}),Object(O.jsx)("p",{className:"card-text text-center",children:s.lot})]}),Object(O.jsxs)("div",{className:"col custom-bg-4 custom-padding",children:[Object(O.jsx)("p",{className:"header-text text-center",children:"PRICE"}),Object(O.jsx)("p",{className:"card-text text-center",children:s.price})]})]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col custom-bg-5 custom-padding",children:[Object(O.jsx)("p",{className:"header-text text-center",children:"QTY"}),Object(O.jsx)("p",{className:"card-text text-center",children:s.pkgs})]}),Object(O.jsxs)("div",{className:"col custom-bg-6 custom-padding",children:[Object(O.jsx)("p",{className:"header-text text-center",children:"GRADE"}),Object(O.jsx)("p",{className:"card-text text-center",children:s.grade})]})]}),Object(O.jsx)("div",{className:"row mxcom",children:!0===i&&l===c||0===s.maximum_bid?Object(O.jsxs)("div",{className:"mn-bid col-12",children:[Object(O.jsxs)("h5",{className:"card-price",children:["Max.",s.maximum_bid]}),Object(O.jsx)("input",{className:"form-control m_bid",autoComplete:"off",type:"number",id:"name".concat(s.id),name:"name",value:s.name,onChange:function(e){return d(e,c)}})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("h5",{className:"card-price",children:["Max.",s.maximum_bid]}),Object(O.jsxs)("span",{className:s.buyer===a.link_id?"hname":"rname",children:[s.buyer_name,"(",s.maximum_bid-s.price,")"]}),Object(O.jsx)("br",{})]})})]}),Object(O.jsx)("div",{className:"col-md-5 d-flex justify-content-center align-items-center col-sm-5 col-xs-5 b-bg",children:0===s.maximum_bid?Object(O.jsx)("button",{disabled:"BIDDER"!==a.type,onClick:function(){return o(s,c)},className:"btn btn-danger square-circle",children:Object(O.jsx)(_.a,{className:"bid"})},s.id+10):Object(O.jsx)("div",{className:"col-12 b-bg",children:Object(O.jsxs)("div",{className:"bidcont mb-2",children:[Object(O.jsxs)("button",{disabled:b.includes(c),onClick:function(){return j(s,c)},className:"btn btn-danger square-circle bidbtn",children:[Object(O.jsx)(_.a,{className:"bid"})," +1"]},s.id+11),Object(O.jsxs)("button",{onClick:function(){!0===i&&l===c?o(s,c):(m(!0),u(c))},className:"btn btn-primary square-circle bidbtn",children:[Object(O.jsx)(_.a,{className:"bid"})," BID"]},s.id)]})})})]})]})]})})},I=function(e){var t=e.time,c=e.list,n=e.startIndex,s=e.endIndex,a=e.users,r=e.formatTime,i=e.manualmode,l=e.selectedIndex,d=e.handleInputChange,o=e.addBid,j=e.handleInc,b=e.disabledButtons,u=e.setManualmode,m=e.setSelectedIndex;return Object(O.jsx)("div",{className:"con",children:Object(O.jsx)("div",{className:"row g-1",children:c.slice(n,s+3).map((function(e,c){return Object(O.jsx)(w,{sl:n+c+1,time:t,el:e,index:c,setManualmode:u,setSelectedIndex:m,users:a,formatTime:r,manualmode:i,selectedIndex:l,handleInputChange:d,addBid:o,handleInc:j,disabledButtons:b},e.id+9)}))})})},C=v.a.connect("http://68.183.81.28:3009"),E=function(){Object(s.n)();var e=Object(n.useState)(!1),t=Object(u.a)(e,2),c=t[0],a=t[1],i="http://68.183.81.28:3009",h=Object(m.b)(),v=Object(m.c)((function(e){return e.auction})).auction_data,g=localStorage.getItem("users"),y=JSON.parse(g),_=Object(n.useState)([]),w=Object(u.a)(_,2),E=w[0],P=w[1],T=Object(n.useState)(""),B=Object(u.a)(T,2),D=(B[0],B[1]),L=Object(n.useState)(""),F=Object(u.a)(L,2),R=F[0],M=F[1],A=Object(n.useState)(""),q=Object(u.a)(A,2),U=q[0],J=q[1],V=Object(n.useState)(),Y=Object(u.a)(V,2),G=Y[0],K=Y[1],z=Object(n.useState)([]),Q=Object(u.a)(z,2),W=Q[0],H=Q[1],X=Object(n.useState)([]),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!1),ce=Object(u.a)(te,2),ne=(ce[0],ce[1]),se=Object(n.useState)([]),ae=Object(u.a)(se,2),re=ae[0],ie=ae[1],le=Object(n.useState)(null),de=Object(u.a)(le,2),oe=de[0],je=de[1],be=Object(n.useState)(0),ue=Object(u.a)(be,2),me=ue[0],he=ue[1],Oe=Object(n.useState)(1),xe=Object(u.a)(Oe,2),fe=xe[0],pe=xe[1],ve=Object(n.useState)(0),ge=Object(u.a)(ve,2),Ne=ge[0],ye=ge[1],ke=Object(n.useState)(!1),Se=Object(u.a)(ke,2),_e=(Se[0],Se[1]),we=Object(n.useState)(!0),Ie=Object(u.a)(we,2),Ce=Ie[0],Ee=Ie[1],Pe=Object(n.useState)(0),Te=Object(u.a)(Pe,2),Be=Te[0],De=Te[1],Le=Object(n.useState)(!1),Fe=Object(u.a)(Le,2),Re=Fe[0],Me=Fe[1],Ae=Object(n.useState)(!1),qe=Object(u.a)(Ae,2),Ue=qe[0],Je=qe[1],Ve=Object(n.useState)(!1),Ye=Object(u.a)(Ve,2),Ge=Ye[0],Ke=Ye[1],ze=Object(n.useState)(!1),Qe=Object(u.a)(ze,2),We=Qe[0],He=Qe[1],Xe=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.get("".concat(i,"/getselectbroker")).then((function(e){C.emit("user",e.data[0].current_brokers)})).catch((function(e){console.log(e)}));case 2:h(p.c),a(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(d.a)(l.a.mark((function e(t,c){var n,s,a,d,o,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.maximum_bid,a=s+.5*s,null==(d=(null===(n=E[c])||void 0===n?void 0:n.name)||null)){e.next=26;break}if(!(0===s||d<=a)){e.next=25;break}if(!(0!==s&&d<s)){e.next=10;break}alert("Bid value should be greater than or equal to the maximum bid."),e.next=23;break;case 10:return e.prev=10,o={id:t.id,bid:d,buyer:y.link_id},e.next=14,r.a.put("".concat(i,"/manualbid"),o);case 14:return e.next=16,r.a.get("".concat(i,"/getselectbroker"));case 16:j=e.sent,C.emit("user",j.data[0].current_brokers),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),console.log(e.t0);case 23:e.next=26;break;case 25:alert("You can only bid up to 50% of the maximum bid.");case 26:He(!1);case 27:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(t,c){return e.apply(this,arguments)}}(),$e=null,et=function(){"visible"===document.visibilityState?(clearTimeout($e),r.a.get("".concat(i,"/getselectbroker")).then((function(e){0===e.data[0].auction?Ee(!0):Ee(!1)})).catch((function(e){console.error("Error fetching data:",e)}))):$e=setTimeout((function(){window.location.reload()}),1e4)};Object(n.useEffect)((function(){return document.addEventListener("visibilitychange",et),function(){clearTimeout($e),document.removeEventListener("visibilitychange",et)}}),[]);var tt=function(){var e=Object(d.a)(l.a.mark((function e(t,c){var n,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie((function(e){return[].concat(Object(b.a)(e),[c])})),Ke(!0),n=new Audio(f.a),s=W.map((function(e,c){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{maximum_bid:e.maximum_bid+1,buyer:y.link_id,key:c}):Object(j.a)(Object(j.a)({},e),{},{key:c})})),a=s.filter((function(e){return e.id===t.id})),e.prev=5,e.next=8,r.a.put("".concat(i,"/updateauction"),a);case 8:C.emit("user",G),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:return e.prev=14,H(s),n.play(),ne(!1),Ke(!1),ie((function(e){return e.filter((function(e){return e!==c}))})),e.finish(14);case 21:case"end":return e.stop()}}),e,null,[[5,11,14,21]])})));return function(t,c){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(e){ye(e)},t=function(e){he(e)},c=function(e){pe(e)};return C.on("activeUsers",e),C.on("startIndex",t),C.on("endIndex",c),C.emit("getObjects"),function(){C.off("activeUsers",e),C.off("startIndex",t),C.off("endIndex",c)}}),[]);var ct=function(){var e=Object(d.a)(l.a.mark((function e(){var t,c,n,s,a,d,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.prev=1,e.next=4,r.a.get("".concat(i,"/getselectbroker"));case 4:c=e.sent,t&&(n=c.data[0],s=n.auction,a=n.current_brokers,d=n.name,o=n.id,Ee(0===s),Promise.all([M(d),J(o),K(a)]).then((function(){C.emit("user",a),C.on("user_toggle",(function(e){_e(e===y.link_id)}))}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=!0;Je(!0),setTimeout((function(){Je(!1)}),1e3);var t=function(){Me(!0)},c=function(){Me(!1)},n=function(e){De(e)};return C.on("visibility",et),C.on("start",t),C.on("stop",c),C.on("time",n),ct(),C.on("users",(function(t){if(e){var c=t.filter((function(e){return 0===e.sold_status}));H(c),ee(t)}})),C.on("checkname",(function(t){e&&M(t)})),function(){e=!1,C.off("visibility",et),C.off("start",t),C.off("stop",c),C.off("time",n),C.off("users"),C.off("checkname"),C.off("user_toggle")}}),[C]),Object(n.useEffect)((function(){var e;if(Re){var t=Object(S.throttle)((function(){C.emit("tick")}),1e3);e=setInterval(t,1e3)}else clearInterval(e);return function(){return clearInterval(e)}}),[Re]);var nt=function(e){var t=Math.floor(e/60).toString().padStart(2,"0"),c=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(c)},st=$.filter((function(e){return e.buyer===y.link_id})),at=$.filter((function(e){return e.brokers===U&&0!=e.buyer}));return Object(O.jsxs)(O.Fragment,{children:[Ge?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"overlay",children:Object(O.jsxs)("div",{className:"spinner-container",children:[Object(O.jsx)("div",{className:"spinner"}),Object(O.jsx)("span",{children:"Verifying data..."})]})})}):"",Ue&&""!==y.type?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(O.jsx)(k.a,{type:"spin",color:"#007bff",height:50,width:50}),Object(O.jsx)("div",{style:{marginTop:"20px",fontSize:"16px",fontWeight:"bold"},children:"Verifying Data..."})]})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(N,{title:"My Lot",onClose:function(){return a(!1)},show:c,filteredData:"BROKERS"===y.type?at:st}),Object(O.jsxs)("div",{className:"section-head sec-h",children:[Object(O.jsxs)("p",{className:"br-n",children:["=",R,"="]}),Object(O.jsxs)("div",{className:"row newc",children:[Object(O.jsxs)("div",{className:"col-7 col-md-9 card-btn leftCard",children:[Object(O.jsxs)("h2",{children:["Auction Date:"," ",0===v.length?"":v[0].date," "]}),Object(O.jsxs)("p",{children:["SALE NO - #",0===v.length?"":v[0].sale_no," ",Ne," "]}),Object(O.jsxs)("p",{children:["Season - #",0===v.length?"":v[0].season," "]}),Object(O.jsxs)("p",{children:["CURRENT BROKER :"," ",Object(O.jsx)("span",{className:"c_brokers",children:R})," "]}),Object(O.jsx)("div",{className:" row margin-left",children:Object(O.jsx)("button",{type:"button",onClick:Xe,className:"col-5 buttonGroup btn btn-success my-btn",children:"My Lot"})})]}),Object(O.jsx)("div",{className:"col-5 col-md-3 align-items-center justify-content-center mt-5 rCard",children:Object(O.jsx)("div",{className:"col-12",children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("div",{className:"row rightCard",children:Object(O.jsxs)("div",{className:" ",children:[Object(O.jsx)("div",{className:"col-md-6 count-t",children:Object(O.jsx)("h2",{className:"text-center mh2",children:nt(Be)})}),Object(O.jsx)("div",{className:"col-md-6 name-t",children:Object(O.jsx)("h2",{className:"mh2 text-center",children:y.short_name})})]})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"col-md-12 name-t mh3",children:Object(O.jsxs)("h4",{className:" text-center",children:["Total : ",W.length," Lot"]})})})]})})})]})]}),Ce&&"BIDDER"===y.type?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("h2",{className:"text-center  p-h",children:["-=",y.type," PANEL=-"]}),Object(O.jsx)(x,{})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("h2",{className:"text-center p-h",children:["-=",y.type," PANEL=-"]}),Object(O.jsx)("hr",{className:"hr-h"}),Object(O.jsx)(I,{time:Be,list:W,startIndex:me,endIndex:fe,users:y,formatTime:nt,manualmode:We,selectedIndex:oe,handleInputChange:function(e,t){var c=e.target,n=c.name,s=c.value;P((function(e){var c=Object(b.a)(e);return c[t]=Object(j.a)(Object(j.a)({},c[t]),{},Object(o.a)({},n,s)),c})),D(t)},addBid:Ze,handleInc:tt,disabledButtons:re,setManualmode:He,setSelectedIndex:je})]})]})]})};t.default=function(){var e=Object(s.n)();return Object(n.useEffect)((function(){var t=sessionStorage.getItem("token");e(t?"/bidders":"/")}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("section",{className:"content-header"}),Object(O.jsx)("section",{className:"content",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-xs-12",children:Object(O.jsx)(E,{})})})})]})}},93:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c(5);function s(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function a(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?s(Object(c),!0).forEach((function(t){Object(n.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}}}]);
//# sourceMappingURL=6.369b4055.chunk.js.map